<s3 title="Changes since &xslt4j; version 2.0.D07">
<p>This release includes several bug fixes to the &xslt4j; and TrAX core and to the Xalan-Java 1 compatibility API.</p>
<p><em>Core bug fixes:</em></p>
<ul>
  <li>Fixed bug reported by Chris McCabe. If the last used AxesWalker is null, we no longer check to see if it is a fast walker!<br/><br/></li>
  <li>Fixed TransformerImpl for exceptions that were not being passed through the error listener.<br/><br/></li>  
  <li>Fixed bug in FollowingWalker reported by Dave Haffner. In parentNode(), no longer screen out nextAncestor, since the parent
  is never returned. This fix sets things up correctly for firstChild and nextSibling.<br/><br/></li>
  <li>Fixed bug in PrecedingWalker reported by Dave Haffner. In nextSibling(), do not return null if isAncestorOfRootContext; rather do
  next.getFirstChild.<br/><br/></li>
  <li>Fixed SourceTreeManager bug reported by anders.domeij@uc.se. Removed an extra TransformationException declaration in resolveURI().<br/><br/></li>
  <li>Fixed SourceTreeHandler bug reported by Jason Harrop. Do not process a comment or whitespace if inside a startDTD/endDTD event.<br/><br/></li>
  <li>In indirect reponse to a bug reported by Thee Boon Hoo (theebh@newstakes.com). The "//tables[1]" pattern was returning one instead of
  two nodes when applied to Thee Boon Hoo's source. This pattern is equivalent to "/descendent-or-self::node()/table[1]", so it must
  return the first table child of each table-inst element. Must turn off optimization which used "/descendent-or-self//table", given that
  we cannot be sure until runtime that indexing is not being used.<br/><br/></li>
  <li>Added patch to StylesheetPIHandler and TransformerFactoryImpl submitted by Dmitri Ilyin for use of the specified URIResolver.<br/><br/></li>
  <li>Fixed ElemNumber bug. The number expression must be evaluated and then rounded up.<br/><br/></li>
  <li>Fixed bug in Process by creating a DocumentFragment for the output node in DOM to DOM transformations.<br/><br/></li>
  <li>Improved Compiler class error message when the QUO opcode (from an earlier version of the XSLT spec) is used.<br/><br/></li>
  <li>Removed superfluous method calls to TransformerImpl.executeChildTemplates().<br/><br/></li>  
  <li>In response to a bug with the SQL library extension reported by Mike Kay, NodeTest.getLocalName() and ColumnData.getData() now return
  an empty string instead of null when there is no NodeTest name or column data.<br/><br/></li>
  <li>In the extensions MethodResolver, Gary Peskin corrected ConversionInfo array for Node-Set, replaced DocumentFragment in RTF with
  NodeList, removed duplicate Boolean from both, and fixed Boolean conversion to give Boolean precedence over String. <br/><br/></li>  
  <li>Fixed a SQL library extension bug reported by Dimitry Voytenko. In some cases &lt;xsl:copy-of select="sql:query(...)"/&gt; was
  crashing with a NullPointerException.  The null nodetest is now used to mean the same as "node()".<br/><br/></li>  
  <li>Modified XPathParser to check for null token before checking for a letter.<br/><br/></li>
  <li>Fixed bug reported by Christian Glencross. The TransformerIdentityImpl ContentHandler is now initialized when called by the Xerces
   1.2.3 SAX Parser prior to startDocument().<br/><br/></li>
  <li>Fixed how string node values are returned in org.apache.xalan.lib.Extensions.<br/><br/></li>
  <li>Bug fix attributed to Norman Walsh. If the "name" attribute does not appear in the attribute list, getIndex(name) returns -1, but
  getChildAttribute() was incorrectly returning the first attribute. We now return null if index &lt;0.<br/><br/></li>
  <li>Implemented DeclHandler for identity transforms.<br/><br/></li>
  <li><br/><br/></li>
  <li><br/><br/></li>
  <li><br/><br/></li>
  
  <li></li>

</ul>
<p><em>Bug fixes in the <link idref="usagepatterns" anchor="compat">Xalan-Java 1 compatibility API</link>:</em></p>
<ul>
  <li><br/><br/></li>
  <li><br/><br/></li>
  <li><br/><br/></li>
  <li><br/><br/></li>
  <li></li>        
</ul>

<p><em>Other:</em></p>
<ul>
  <li>In response to requests for simpler sample servlets, we have added two servlets to the servlet package: <link idref="samples"
  anchor="simplexsltservlet">servlet.SimpleXSLTServlet</link> and <link idref="samples" anchor="xsltservletwithparams">
     XSLTServletWithParams</link>. See also the example in <link idref="usagepatterns" anchor="servlet">Using &xslt4j; in a servlet</link>.
     <br/><br/>Both of these classes are in xalanservlet.jar and are recompiled when you use the Ant build.xml to rebuild the
     servlet.</li>
</ul>
<p>For a list of tasks in the &xslt4j2; To-Do list that have been completed, see <jump href="todo.html#release-date-completed">Tasks completed</jump>.</p>
</s3>
